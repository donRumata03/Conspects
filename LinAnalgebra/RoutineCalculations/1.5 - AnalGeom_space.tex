\documentclass[12pt, a4paper]{article}
\input{../../LatexGloves/latex_math_header.tex}

\usepackage{geometry}
\geometry{
    a4paper,
    left=30mm,
    right=30mm,
    top=30mm,
    bottom=40mm
}


\author{Латыпов Владимир Витальевич, \\ ИТМО КТ M3138, \Huge{\textit{\textbf{вариант 12}}}}
\title{Типовик по линейной алгебре модуль 1: Задание 5 «Аналитическая геометрия в пространстве»}

\begin{document}
    \tittoc

    \section{Формулировка условия}

    \begin{statement}
        Условие таково: 
        
        12. Найти общий перепендикуляр к двум скрещивающимся прямым:
        $x = y = z$ и
        
        \begin{equation}
            \frac{x − 1}{1} = \frac{y}{-1} = \frac{z}{2}
        \end{equation}

        Сделать рисунок.
    \end{statement}

    \section{Решение}

    Сначала найдём направляющий вектор искомой прямой: 
    он перпендикулярен обеим направляющим векторам исходных прямых,
    поэтому равен векторному произведению:

    \begin{equation}
        \vec{s_h} = \vec{s_1} \times \vec{s_2} 
        = \{ 1, 1, 1 \} \times \{ 1, -1, 2 \} = 
        \{ 2 + 1, -(2 - 1), -1 - 1 \} = \{ 3, -1, -2 \}
    \end{equation}

    Теперь для каждой из исходных прямых построим полскость, 
    прохоядщую через неё 
    и содержащую направляющий вектор перпендикуляра.

    Для получения нормальных векторов этих плоскостей находим векторное произведение
    соответствующих пар векторов, которые должны лежать в них:
    
    \begin{gather}
        \vec{n_1} = \vec{s_n} \times \vec{s_1} = \{ 3, -1, -2 \} \times \{ 1, 1, 1 \} = \{ -1, 5, -4 \} \\
        \vec{n_2} = \vec{s_n} \times \vec{s_2} = \{ 3, -1, -2 \} \times \{ 1, -1, 2 \} = \{ 4, 8, 2 \} \sim \{ 2, 4, 1 \}
    \end{gather}

    Затем семплируем точку из каждой прямой и построим через неё и вектор нормали соответствующую плоскость.

    Для первой поямой — берём точку $\{0, 0, 0\}$.
    Для второй — $\{ 1, 0, 0 \}$.

    Построим уравнение для первой плоскости:
    \begin{gather}
        \alpha_1 = plane(n_1, \{0, 0, 0\}) \\
        D = 0 \\
        \Rightarrow \alpha_1: -x + 5y - 4z = 0
    \end{gather}

    …и для второй плоскости:
    \begin{gather}
        \alpha_2 = plane(n_2, \{1, 0, 0\}) \\
        \begin{cases}
            A = 2 \\
            B = 4 \\
            C = 1 \\
            D: A \cdot 1 + B \cdot 0 + C \cdot 0 + D = 0 \Longrightarrow D = -A = -2
        \end{cases} \\
        \Rightarrow \alpha_2: 2x + 4y + z - 2 = 0
    \end{gather}


    Очевидно, обе полученные плоскости сожержат искомый общий
    перепендикуляр, поэтому, если пересечение этих плоскостей непусто, 
    то ответ существует, причём он и является этим пересечением.

    Пересечём плоскости. Направляющий вектор
    искомой прямой уже известен ($s_h$). Осталось найти точку.
    Для этого найдём хотя бы одно решение системы из уравнений плоскостей.

    \begin{equation}
        \begin{cases}
            2x + 4y + z - 2 = 0 \\
            -x + 5y - 4z = 0
        \end{cases}
    \end{equation}

    Воспользуемся трюком: пересечём одну из плоскостей с противоположной прямой.

    \begin{equation}
        \begin{cases}
            2x + 4y + z − 2 = 0 \\
            x = y = z = \xi
        \end{cases}
    \end{equation}

    \begin{gather}
            2\xi + 4\xi + \xi − 2 = 0 \\
            7\xi = 2 \\
            \xi = \frac{2}{7}
    \end{gather}

    Тогда ответом будет прямая, проходящая через эту точку и имеющая направляющий вектор $s_h$:

    \begin{equation}
        \begin{cases}
            x = \frac{2}{7} + 3t \\
            y = \frac{2}{7} - 1t\\
            z = \frac{2}{7} - 2t
        \end{cases}
    \end{equation}


    \section{Иллюстрация}
    
    \begin{sidewaysfigure}[h!]
        \centering
        \includegraphics[width=\paperwidth]{resources/1.5_figure.png}
        \caption{Чертёж}
        \label{fig:main_figure}
    \end{sidewaysfigure}
    \FloatBarrier


\end{document}